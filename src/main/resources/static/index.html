<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task Manager</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: #f5f7fa;
            color: #2c3e50;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        header {
            background: white;
            border-bottom: 2px solid #e1e8ed;
            padding: 20px 0;
            margin-bottom: 30px;
        }

        header h1 {
            font-size: 24px;
            color: #1a202c;
            font-weight: 700;
        }

        header p {
            color: #718096;
            font-size: 14px;
            margin-top: 5px;
        }

        /* Auth Section */
        .auth-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            max-width: 900px;
            margin: 50px auto;
        }

        .card {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 30px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .card h2 {
            font-size: 20px;
            margin-bottom: 20px;
            color: #1a202c;
        }

        .form-group {
            margin-bottom: 18px;
        }

        .form-group label {
            display: block;
            margin-bottom: 6px;
            font-weight: 500;
            font-size: 14px;
            color: #4a5568;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid #cbd5e0;
            border-radius: 6px;
            font-size: 14px;
            font-family: inherit;
            transition: border-color 0.2s;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #4299e1;
        }

        .form-group textarea {
            resize: vertical;
            min-height: 80px;
        }

        /* Buttons */
        .btn {
            display: inline-block;
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            font-family: inherit;
        }

        .btn-primary {
            background: #4299e1;
            color: white;
        }

        .btn-primary:hover {
            background: #3182ce;
        }

        .btn-success {
            background: #48bb78;
            color: white;
        }

        .btn-success:hover {
            background: #38a169;
        }

        .btn-danger {
            background: #f56565;
            color: white;
        }

        .btn-danger:hover {
            background: #e53e3e;
        }

        .btn-full {
            width: 100%;
        }

        /* Dashboard */
        .dashboard {
            display: none;
        }

        .dashboard.active {
            display: block;
        }

        .user-bar {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 15px 20px;
            margin-bottom: 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .user-info h3 {
            font-size: 16px;
            color: #1a202c;
        }

        .user-info p {
            font-size: 13px;
            color: #718096;
            margin-top: 2px;
        }

        /* Tabs */
        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 25px;
            border-bottom: 2px solid #e2e8f0;
            padding-bottom: 10px;
        }

        .tab {
            padding: 8px 16px;
            background: transparent;
            border: none;
            border-bottom: 3px solid transparent;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            color: #718096;
            transition: all 0.2s;
        }

        .tab:hover {
            color: #4299e1;
        }

        .tab.active {
            color: #4299e1;
            border-bottom-color: #4299e1;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Stats */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
        }

        .stat-card h2 {
            font-size: 36px;
            color: #4299e1;
            margin-bottom: 8px;
        }

        .stat-card p {
            color: #718096;
            font-size: 14px;
        }

        /* Items */
        .item {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 15px;
        }

        .item h3 {
            font-size: 16px;
            margin-bottom: 8px;
            color: #1a202c;
        }

        .item p {
            color: #718096;
            font-size: 14px;
            margin-bottom: 6px;
        }

        .item .meta {
            font-size: 13px;
            color: #a0aec0;
            margin-top: 10px;
        }

        .badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
            margin-right: 6px;
        }

        .badge-high {
            background: #fed7d7;
            color: #c53030;
        }

        .badge-medium {
            background: #feebc8;
            color: #c05621;
        }

        .badge-low {
            background: #c6f6d5;
            color: #276749;
        }

        .badge-todo {
            background: #bee3f8;
            color: #2c5282;
        }

        .badge-in-progress {
            background: #feebc8;
            color: #c05621;
        }

        .badge-done {
            background: #c6f6d5;
            color: #276749;
        }

        /* Grid layouts */
        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        /* Notifications */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            border: 1px solid #e2e8f0;
            border-left: 4px solid #48bb78;
            padding: 15px 20px;
            border-radius: 6px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            z-index: 1000;
            animation: slideIn 0.3s ease;
        }

        .notification.error {
            border-left-color: #f56565;
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }

            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .hidden {
            display: none;
        }

        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: #a0aec0;
        }

        .empty-state p {
            font-size: 15px;
        }

        .section-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 20px;
            color: #1a202c;
        }

        @media (max-width: 768px) {
            .auth-section {
                grid-template-columns: 1fr;
            }

            .grid-2 {
                grid-template-columns: 1fr;
            }

            .tabs {
                overflow-x: auto;
                flex-wrap: nowrap;
            }
        }
    </style>
</head>

<body>
    <div id="authSection">
        <header>
            <div class="container">
                <h1>ðŸ“‹ Task Manager</h1>
                <p>Manage your projects and tasks efficiently</p>
            </div>
        </header>

        <div class="container">
            <div class="auth-section">
                <div class="card">
                    <h2>Create Account</h2>
                    <form id="registerForm">
                        <div class="form-group">
                            <label>Full Name</label>
                            <input type="text" id="regFullName" required>
                        </div>
                        <div class="form-group">
                            <label>Username</label>
                            <input type="text" id="regUsername" required>
                        </div>
                        <div class="form-group">
                            <label>Email</label>
                            <input type="email" id="regEmail" required>
                        </div>
                        <div class="form-group">
                            <label>Password</label>
                            <input type="password" id="regPassword" required>
                        </div>
                        <button type="submit" class="btn btn-primary btn-full">Register</button>
                    </form>
                </div>

                <div class="card">
                    <h2>Sign In</h2>
                    <form id="loginForm">
                        <div class="form-group">
                            <label>Username</label>
                            <input type="text" id="loginUsername" required>
                        </div>
                        <div class="form-group">
                            <label>Password</label>
                            <input type="password" id="loginPassword" required>
                        </div>
                        <button type="submit" class="btn btn-success btn-full">Login</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <div id="dashboard" class="dashboard">
        <header>
            <div class="container">
                <h1>ðŸ“‹ Task Manager</h1>
                <p>Welcome back!</p>
            </div>
        </header>

        <div class="container">
            <div class="user-bar">
                <div class="user-info">
                    <h3 id="userName">User</h3>
                    <p id="userEmail"></p>
                </div>
                <button class="btn btn-danger" onclick="logout()">Logout</button>
            </div>

            <div class="tabs">
                <button class="tab active" onclick="showTab('analytics')">Analytics</button>
                <button class="tab" onclick="showTab('projects')">Projects</button>
                <button class="tab" onclick="showTab('tasks')">Tasks</button>
                <button class="tab" onclick="showTab('files')">Files</button>
                <button class="tab" onclick="showTab('currency')">Currency</button>
            </div>

            <!-- Analytics Tab -->
            <div id="analyticsTab" class="tab-content active">
                <div class="stats-grid">
                    <div class="stat-card">
                        <h2 id="totalProjects">0</h2>
                        <p>Projects</p>
                    </div>
                    <div class="stat-card">
                        <h2 id="totalTasks">0</h2>
                        <p>Tasks</p>
                    </div>
                    <div class="stat-card">
                        <h2 id="totalUsers">0</h2>
                        <p>Users</p>
                    </div>
                </div>
            </div>

            <!-- Projects Tab -->
            <div id="projectsTab" class="tab-content">
                <div class="card" style="margin-bottom: 20px;">
                    <h2 class="section-title">New Project</h2>
                    <form id="createProjectForm">
                        <div class="grid-2">
                            <div class="form-group">
                                <label>Project Name</label>
                                <input type="text" id="projectName" required>
                            </div>
                            <div class="form-group">
                                <label>Start Date</label>
                                <input type="datetime-local" id="projectStart" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Description</label>
                            <textarea id="projectDesc" required></textarea>
                        </div>
                        <div class="form-group">
                            <label>End Date</label>
                            <input type="datetime-local" id="projectEnd" required>
                        </div>
                        <button type="submit" class="btn btn-primary">Create Project</button>
                    </form>
                </div>

                <h2 class="section-title">Your Projects</h2>
                <div id="projectsList"></div>
            </div>

            <!-- Tasks Tab -->
            <div id="tasksTab" class="tab-content">
                <div class="card" style="margin-bottom: 20px;">
                    <h2 class="section-title">New Task</h2>
                    <form id="createTaskForm">
                        <div class="grid-2">
                            <div class="form-group">
                                <label>Title</label>
                                <input type="text" id="taskTitle" required>
                            </div>
                            <div class="form-group">
                                <label>Project</label>
                                <select id="taskProject" required>
                                    <option value="">Select Project</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Description</label>
                            <textarea id="taskDesc" required></textarea>
                        </div>
                        <div class="grid-2">
                            <div class="form-group">
                                <label>Priority</label>
                                <select id="taskPriority" required>
                                    <option value="LOW">Low</option>
                                    <option value="MEDIUM">Medium</option>
                                    <option value="HIGH">High</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Status</label>
                                <select id="taskStatus" required>
                                    <option value="TODO">To Do</option>
                                    <option value="IN_PROGRESS">In Progress</option>
                                    <option value="DONE">Done</option>
                                </select>
                            </div>
                        </div>
                        <div class="grid-2">
                            <div class="form-group">
                                <label>Due Date</label>
                                <input type="datetime-local" id="taskDue" required>
                            </div>
                            <div class="form-group">
                                <label>Estimated Hours</label>
                                <input type="number" id="taskHours" min="1" required>
                            </div>
                        </div>
                        <button type="submit" class="btn btn-primary">Create Task</button>
                    </form>
                </div>

                <h2 class="section-title">Your Tasks</h2>
                <div id="tasksList"></div>
            </div>

            <!-- Files Tab -->
            <div id="filesTab" class="tab-content">
                <div class="card" style="margin-bottom: 20px;">
                    <h2 class="section-title">Upload File</h2>
                    <form id="uploadFileForm">
                        <div class="form-group">
                            <label>Task</label>
                            <select id="fileTask" required>
                                <option value="">Select Task</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>File</label>
                            <input type="file" id="fileInput" required>
                        </div>
                        <button type="submit" class="btn btn-primary">Upload</button>
                    </form>
                </div>

                <h2 class="section-title">Files</h2>
                <div id="filesList"></div>
            </div>

            <!-- Currency Tab -->
            <div id="currencyTab" class="tab-content">
                <div class="card">
                    <h2 class="section-title">Currency Converter</h2>
                    <form id="currencyForm">
                        <div class="grid-2">
                            <div class="form-group">
                                <label>From</label>
                                <input type="text" id="fromCurrency" value="USD" required>
                            </div>
                            <div class="form-group">
                                <label>To</label>
                                <input type="text" id="toCurrency" value="EUR" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Amount</label>
                            <input type="number" id="amount" value="100" min="0" step="0.01" required>
                        </div>
                        <button type="submit" class="btn btn-success btn-full">Convert</button>
                    </form>
                    <div id="currencyResult" style="margin-top: 20px; text-align: center; display: none;">
                        <h3 style="font-size: 24px; color: #4299e1;" id="conversionResult"></h3>
                        <p style="margin-top: 8px; color: #718096;" id="conversionRate"></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const API_BASE = 'http://localhost:8080/api';
        let authToken = localStorage.getItem('authToken');
        let currentUser = null;

        document.addEventListener('DOMContentLoaded', () => {
            if (authToken) {
                currentUser = JSON.parse(localStorage.getItem('currentUser'));
                showDashboard();
            }
        });

        function showNotification(message, isError = false) {
            const notification = document.createElement('div');
            notification.className = `notification ${isError ? 'error' : ''}`;
            notification.textContent = message;
            document.body.appendChild(notification);
            setTimeout(() => notification.remove(), 3000);
        }

        function showTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));

            document.getElementById(`${tabName}Tab`).classList.add('active');
            event.target.classList.add('active');

            if (tabName === 'analytics') loadAnalytics();
            if (tabName === 'projects') loadProjects();
            if (tabName === 'tasks') loadTasks();
            if (tabName === 'files') loadFiles();
        }

        function showDashboard() {
            document.getElementById('authSection').style.display = 'none';
            document.getElementById('dashboard').classList.add('active');
            document.getElementById('userName').textContent = currentUser?.username || 'User';
            document.getElementById('userEmail').textContent = currentUser?.email || '';
            loadAnalytics();
            loadProjects();
            loadTasks();
        }

        function logout() {
            localStorage.removeItem('authToken');
            localStorage.removeItem('currentUser');
            location.reload();
        }

        async function apiCall(endpoint, method = 'GET', data = null) {
            const options = {
                method,
                headers: { 'Content-Type': 'application/json' }
            };

            if (authToken) {
                options.headers['Authorization'] = `Bearer ${authToken}`;
            }

            if (data) {
                options.body = JSON.stringify(data);
            }

            try {
                const response = await fetch(`${API_BASE}${endpoint}`, options);
                const result = await response.json();

                if (!response.ok || !result.success) {
                    throw new Error(result.message || 'Request failed');
                }

                return result.data;
            } catch (error) {
                showNotification(error.message, true);
                throw error;
            }
        }

        async function uploadFile(endpoint, formData) {
            const options = {
                method: 'POST',
                headers: { 'Authorization': `Bearer ${authToken}` },
                body: formData
            };

            try {
                const response = await fetch(`${API_BASE}${endpoint}`, options);
                const result = await response.json();

                if (!response.ok || !result.success) {
                    throw new Error(result.message || 'Upload failed');
                }

                return result.data;
            } catch (error) {
                showNotification(error.message, true);
                throw error;
            }
        }

        // Auth
        document.getElementById('registerForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            try {
                const data = await apiCall('/auth/register', 'POST', {
                    fullName: document.getElementById('regFullName').value,
                    username: document.getElementById('regUsername').value,
                    email: document.getElementById('regEmail').value,
                    password: document.getElementById('regPassword').value
                });

                authToken = data.token;
                currentUser = { username: data.username, email: data.email };
                localStorage.setItem('authToken', authToken);
                localStorage.setItem('currentUser', JSON.stringify(currentUser));

                showNotification('Registration successful!');
                showDashboard();
            } catch (error) {
                console.error(error);
            }
        });

        document.getElementById('loginForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            try {
                const data = await apiCall('/auth/login', 'POST', {
                    username: document.getElementById('loginUsername').value,
                    password: document.getElementById('loginPassword').value
                });

                authToken = data.token;
                currentUser = { username: data.username, email: data.email };
                localStorage.setItem('authToken', authToken);
                localStorage.setItem('currentUser', JSON.stringify(currentUser));

                showNotification('Login successful!');
                showDashboard();
            } catch (error) {
                console.error(error);
            }
        });

        // Analytics
        async function loadAnalytics() {
            try {
                const data = await apiCall('/analytics/overall');
                document.getElementById('totalProjects').textContent = data.totalProjects || 0;
                document.getElementById('totalTasks').textContent = data.totalTasks || 0;
                document.getElementById('totalUsers').textContent = data.totalUsers || 0;
            } catch (error) {
                console.error(error);
            }
        }

        // Projects
        async function loadProjects() {
            try {
                const data = await apiCall('/projects?page=0&size=20');
                const projectsList = document.getElementById('projectsList');
                const taskProjectSelect = document.getElementById('taskProject');

                if (!data.content || data.content.length === 0) {
                    projectsList.innerHTML = '<div class="empty-state"><p>No projects yet</p></div>';
                    return;
                }

                projectsList.innerHTML = data.content.map(project => `
                    <div class="item">
                        <h3>${project.name}</h3>
                        <p>${project.description}</p>
                        <p class="meta">
                            ${new Date(project.startDate).toLocaleDateString()} - ${new Date(project.endDate).toLocaleDateString()}
                        </p>
                        <button class="btn btn-danger" onclick="deleteProject('${project.id}')" style="margin-top: 10px;">Delete</button>
                    </div>
                `).join('');

                taskProjectSelect.innerHTML = '<option value="">Select Project</option>' +
                    data.content.map(p => `<option value="${p.id}">${p.name}</option>`).join('');

            } catch (error) {
                console.error(error);
            }
        }

        document.getElementById('createProjectForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            try {
                await apiCall('/projects', 'POST', {
                    name: document.getElementById('projectName').value,
                    description: document.getElementById('projectDesc').value,
                    startDate: document.getElementById('projectStart').value,
                    endDate: document.getElementById('projectEnd').value
                });

                showNotification('Project created!');
                e.target.reset();
                loadProjects();
                loadAnalytics();
            } catch (error) {
                console.error(error);
            }
        });

        async function deleteProject(id) {
            if (!confirm('Delete this project?')) return;
            try {
                await apiCall(`/projects/${id}`, 'DELETE');
                showNotification('Project deleted!');
                loadProjects();
                loadAnalytics();
            } catch (error) {
                console.error(error);
            }
        }

        // Tasks
        async function loadTasks() {
            try {
                const data = await apiCall('/tasks?page=0&size=50');
                const tasksList = document.getElementById('tasksList');
                const fileTaskSelect = document.getElementById('fileTask');

                if (!data.content || data.content.length === 0) {
                    tasksList.innerHTML = '<div class="empty-state"><p>No tasks yet</p></div>';
                    return;
                }

                tasksList.innerHTML = data.content.map(task => `
                    <div class="item">
                        <h3>${task.title}</h3>
                        <p>${task.description}</p>
                        <div style="margin-top: 10px;">
                            <span class="badge badge-${task.priority.toLowerCase()}">${task.priority}</span>
                            <span class="badge badge-${task.status.toLowerCase().replace('_', '-')}">${task.status.replace('_', ' ')}</span>
                        </div>
                        <p class="meta">
                            Due: ${new Date(task.dueDate).toLocaleDateString()} | ${task.estimatedHours}h
                        </p>
                        <button class="btn btn-danger" onclick="deleteTask('${task.id}')" style="margin-top: 10px;">Delete</button>
                    </div>
                `).join('');

                fileTaskSelect.innerHTML = '<option value="">Select Task</option>' +
                    data.content.map(t => `<option value="${t.id}">${t.title}</option>`).join('');

            } catch (error) {
                console.error(error);
            }
        }

        document.getElementById('createTaskForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            try {
                await apiCall('/tasks', 'POST', {
                    title: document.getElementById('taskTitle').value,
                    description: document.getElementById('taskDesc').value,
                    projectId: document.getElementById('taskProject').value,
                    priority: document.getElementById('taskPriority').value,
                    status: document.getElementById('taskStatus').value,
                    dueDate: document.getElementById('taskDue').value,
                    estimatedHours: parseInt(document.getElementById('taskHours').value),
                    tags: []
                });

                showNotification('Task created!');
                e.target.reset();
                loadTasks();
                loadAnalytics();
            } catch (error) {
                console.error(error);
            }
        });

        async function deleteTask(id) {
            if (!confirm('Delete this task?')) return;
            try {
                await apiCall(`/tasks/${id}`, 'DELETE');
                showNotification('Task deleted!');
                loadTasks();
                loadAnalytics();
            } catch (error) {
                console.error(error);
            }
        }

        // Files
        document.getElementById('uploadFileForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const fileInput = document.getElementById('fileInput');

            if (!fileInput.files[0]) {
                showNotification('Please select a file', true);
                return;
            }

            try {
                const formData = new FormData();
                formData.append('file', fileInput.files[0]);
                formData.append('taskId', document.getElementById('fileTask').value);

                await uploadFile('/files/upload', formData);
                showNotification('File uploaded!');
                e.target.reset();
                loadFiles();
            } catch (error) {
                console.error(error);
            }
        });

        async function loadFiles() {
            try {
                const data = await apiCall('/files?page=0&size=50');
                const filesList = document.getElementById('filesList');

                if (!data.content || data.content.length === 0) {
                    filesList.innerHTML = '<div class="empty-state"><p>No files uploaded</p></div>';
                    return;
                }

                filesList.innerHTML = data.content.map(file => `
                    <div class="item">
                        <h3>ðŸ“„ ${file.fileName}</h3>
                        <p>Size: ${(file.fileSize / 1024).toFixed(2)} KB</p>
                        <p class="meta">Uploaded: ${new Date(file.uploadDate).toLocaleString()}</p>
                        <button class="btn btn-danger" onclick="deleteFile('${file.id}')" style="margin-top: 10px;">Delete</button>
                    </div>
                `).join('');

            } catch (error) {
                console.error(error);
            }
        }

        async function deleteFile(id) {
            if (!confirm('Delete this file?')) return;
            try {
                await apiCall(`/files/${id}`, 'DELETE');
                showNotification('File deleted!');
                loadFiles();
            } catch (error) {
                console.error(error);
            }
        }

        // Currency
        document.getElementById('currencyForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            try {
                const from = document.getElementById('fromCurrency').value;
                const to = document.getElementById('toCurrency').value;
                const amount = document.getElementById('amount').value;

                const data = await apiCall(`/integrations/currency/convert?from=${from}&to=${to}&amount=${amount}`);

                document.getElementById('conversionResult').textContent =
                    `${amount} ${from} = ${data.convertedAmount.toFixed(2)} ${to}`;
                document.getElementById('conversionRate').textContent =
                    `Rate: 1 ${from} = ${data.exchangeRate.toFixed(4)} ${to}`;
                document.getElementById('currencyResult').style.display = 'block';

                showNotification('Conversion complete!');
            } catch (error) {
                console.error(error);
            }
        });
    </script>
</body>

</html>